(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5321:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/todo/add",function(){return i(6127)}])},6127:function(e,t,i){"use strict";i.r(t);var s=i(5893),r=i(549),n=i(4579),o=i(5945),d=i(8228),c=i(3329),a=i(7692),l=i(7294);let u=()=>{let e=(0,o.NL)(),[t,i]=(0,l.useState)(),[u,m]=(0,l.useState)();(0,l.useEffect)(()=>{u&&t&&(t.todoItems.push(+u.id),x.mutate(t))},[u,t]);let h=(0,d.D)({mutationFn:e=>(0,n.rk)(e),onSuccess(t){m(t),e.invalidateQueries({queryKey:["getTodos"]})}}),x=(0,d.D)({mutationFn:e=>(0,n.ht)(e),onSuccess(){e.invalidateQueries({queryKey:["getCategories"]})}}),g=e=>{let t={title:e.title,description:e.description,deadline:e.deadline,done:e.done};i(e.selectedCategory),h.mutate(t)};return(0,s.jsx)(r.Z,{siteTitle:"Add Todo",siteDescription:"Create your todos. Fill data and click submit.",children:(0,s.jsx)(s.Fragment,{children:h.isLoading||x.isLoading?(0,s.jsx)(a.Z,{title:"Adding Todo...",type:"info"}):(0,s.jsx)(s.Fragment,{children:h.isError||x.isError?(0,s.jsx)(a.Z,{title:"An Error occurred",type:"error"}):(0,s.jsx)("div",{className:"hero",children:(0,s.jsx)("div",{className:"hero-content flex-col",children:h.isLoading||x.isLoading?(0,s.jsx)(a.Z,{title:"Adding Todo...",type:"info"}):(0,s.jsxs)(s.Fragment,{children:[h.isError||x.isError?(0,s.jsx)(a.Z,{title:"An Error occurred",type:"error"}):(0,s.jsx)(s.Fragment,{children:h.isSuccess||x.isSuccess&&(0,s.jsx)(a.Z,{title:"Todo added!",type:"success"})}),(0,s.jsx)("div",{className:"mt-5 md:col-span-1 md:mt-0",children:(0,s.jsx)(c.Z,{onSubmit:g})})]})})})})})})};t.default=u}},function(e){e.O(0,[202,0,964,312,193,774,888,179],function(){return e(e.s=5321)}),_N_E=e.O()}]);