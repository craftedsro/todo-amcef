(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{4677:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/todo",function(){return n(9627)}])},9627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(5893),s=n(5945),c=n(7669),o=n(8228),l=n(4579),r=n(549),i=n(1664),d=n.n(i),u=n(6819);let x=e=>{let{todo:t,onDelete:n,onDone:s}=e,{id:c,title:o,description:l,deadline:r,done:i}=t,x=()=>{n(t.id)},h=()=>{let e=t;e.done=!t.done,s(e)};return(0,a.jsx)("div",{className:"card bg-base-100 shadow-xl transform transition duration-500 hover:scale-110",children:(0,a.jsxs)("div",{className:"card-body items-center",children:[(0,a.jsxs)(d(),{href:{pathname:"/todo/"+c},children:[(0,a.jsx)("h2",{className:"card-title",children:o}),(0,a.jsx)("p",{className:"py-2",children:l}),(0,a.jsx)(u.Z,{deadline:r,className:"py-5"})]}),(0,a.jsx)("div",{className:"card-actions w-full",children:(0,a.jsxs)("div",{className:"flex flex-col w-full items-center justify-center",children:[(0,a.jsx)("button",{className:"btn w-full",onClick:h,children:i?"Mark as undone":"Mark as Done"}),(0,a.jsxs)("div",{className:"flex w-full space-x-5 pt-5",children:[(0,a.jsx)(d(),{href:{pathname:"./todo/edit",query:{id:c}},className:"btn btn-primary grow",children:"Edit"}),(0,a.jsx)("button",{className:"btn btn-secondary grow",onClick:x,children:"Delete"})]})]})})]})})};var h=n(7294),f=n(1536),m=n(7946);let j=[{value:"default",label:"Select Done filter"},{value:"done",label:"Done"},{value:"notDone",label:"Not Done"}],p=e=>{let{onChange:t}=e,[n,s]=(0,h.useState)(j[0].value),c=e=>{s(e),t(e)};return(0,a.jsx)("div",{className:"flex w-1/2",children:(0,a.jsx)("select",{value:n,className:"select select-bordered w-full max-w-xs",onChange:e=>c(e.target.value),children:j.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})})};var g=n(7692);let y=()=>{let e=(0,s.NL)(),[t,n]=(0,h.useState)(""),[i,d]=(0,h.useState)(m.H.Enum.default),[u,j]=(0,h.useState)([]),[y,v]=(0,h.useState)([]),[w,N]=(0,c.h)({queries:[{queryKey:["getTodos"],queryFn:l.LC},{queryKey:["getCategories"],queryFn:l.CP}]});(0,h.useEffect)(()=>{t&&""!==t&&w.isSuccess&&w.data?j(w.data.filter(e=>e.title.toLowerCase().includes(t.toLowerCase()))):w.isSuccess&&w.data&&j(w.data)},[t,j,w]),(0,h.useEffect)(()=>{if("default"!==i){let e="done"===i;v(u.filter(t=>t.done===e))}else w.isSuccess&&v(u)},[i,d,u,w]);let b=(0,o.D)({mutationFn:e=>(0,l.aS)(e),onSuccess(){e.invalidateQueries({queryKey:["getTodos"]})}}),Z=(0,o.D)({mutationFn:e=>(0,l.bm)(e),onSuccess(){e.invalidateQueries({queryKey:["getTodos"]})}}),D=(0,o.D)({mutationFn:e=>(0,l.ht)(e)}),S=e=>{b.mutate(e),N.isSuccess&&N.data&&N.data.map(t=>{-1!==t.todoItems.indexOf(+e)&&(t.todoItems=t.todoItems.filter(t=>t!==+e),D.mutate(t))})},C=e=>{Z.mutate(e)},P=e=>{n(e)},T=e=>{d(e)};return(0,a.jsx)(r.Z,{siteTitle:"All Todos",siteDescription:"Here you can see all your Todos.",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row xs:flex-col justify-center items-center",children:[(0,a.jsx)(f.o,{onChange:P}),(0,a.jsx)(p,{onChange:T})]}),w.isLoading?(0,a.jsx)(g.Z,{title:"Loading Todos...",type:"info"}):(0,a.jsx)(a.Fragment,{children:w.isError?(0,a.jsx)(g.Z,{title:"An Error occurred",type:"error"}):(0,a.jsx)(a.Fragment,{children:w.isSuccess&&y&&y.length>0?(0,a.jsx)("div",{className:"p-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 md:justify-center lg:grid-cols-3 xl:grid-cols-3 gap-5",children:y.map(e=>(0,a.jsx)(x,{todo:e,onDelete:S,onDone:C},e.id))}):(0,a.jsx)(g.Z,{title:"No todos to show.",type:"info"})})})]})})};var v=y},4579:function(e,t,n){"use strict";n.d(t,{CP:function(){return l},LC:function(){return x},aS:function(){return j},bm:function(){return m},dC:function(){return h},ht:function(){return d},i8:function(){return i},n3:function(){return r},rk:function(){return f},uu:function(){return u}});var a=n(196);let s="https://636ba3e07f47ef51e13633ee.mockapi.io/api/v1/",c="category",o="todo",l=async()=>{try{let e=await a.ZP.get(s+c);return e.data}catch(t){console.log(t)}},r=async e=>{try{let t=await a.ZP.get("".concat(s).concat(c,"/").concat(e));return t.data}catch(n){console.log(n)}},i=async e=>{try{let t=await a.ZP.post("".concat(s).concat(c),e);return t.data}catch(n){console.log(n)}},d=async e=>{let t={title:e.title,description:e.description,todoItems:e.todoItems};try{let n=await a.ZP.put("".concat(s).concat(c,"/").concat(e.id),t);return n.data}catch(o){console.log(o)}},u=async e=>{try{let t=await a.ZP.delete("".concat(s).concat(c,"/").concat(e));return t.data}catch(n){console.log(n)}},x=async()=>{try{let e=await a.ZP.get(s+o);return e.data}catch(t){console.log(t)}},h=async e=>{try{let t=await a.ZP.get("".concat(s).concat(o,"/").concat(e));return t.data}catch(n){console.log(n)}},f=async e=>{let t={title:e.title,description:e.description,deadline:e.deadline,done:e.done};try{let n=await a.ZP.post("".concat(s).concat(o),t);return n.data}catch(c){console.log(c)}},m=async e=>{let t={createdAt:e.createdAt,title:e.title,description:e.description,deadline:e.deadline,done:e.done};try{let n=await a.ZP.put("".concat(s).concat(o,"/").concat(e.id),t);return n.data}catch(c){console.log(c)}},j=async e=>{try{let t=await a.ZP.delete("".concat(s).concat(o,"/").concat(e));return t.data}catch(n){console.log(n)}}},6819:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(5893),s=n(7294);let c=e=>[Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4),Math.floor(e%6e4/1e3)],o=e=>{let{deadline:t,className:n}=e,o=new Date(t).getTime(),[l,r]=(0,s.useState)(o-new Date().getTime());(0,s.useEffect)(()=>{let e=setInterval(()=>{r(o-new Date().getTime())},1e3);return()=>clearInterval(e)},[o]);let[i,d,u,x]=c(l);return(0,a.jsxs)("div",{className:"flex gap-5 ".concat(n),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"countdown font-mono text-2xl",children:(0,a.jsx)("span",{style:{"--value":i},children:i})}),"days"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"countdown font-mono text-2xl",children:(0,a.jsx)("span",{style:{"--value":d}})}),"hours"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"countdown font-mono text-2xl",children:(0,a.jsx)("span",{style:{"--value":u}})}),"min"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"countdown font-mono text-2xl",children:(0,a.jsx)("span",{style:{"--value":x}})}),"sec"]})]})};var l=o},7692:function(e,t,n){"use strict";var a=n(5893);let s=e=>{let{title:t,type:n}=e;return(0,a.jsx)("div",{className:"m-10",children:(0,a.jsx)("p",{className:"justify-center text-white shadow-lg alert alert-".concat(n),children:t})})};t.Z=s},1536:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var a=n(5893);let s=e=>{let{onChange:t}=e,n=e=>{t(e)};return(0,a.jsx)("div",{className:"flex justify-center w-1/2",children:(0,a.jsx)("input",{type:"text",className:"bg-white input input-bordered",placeholder:"Search",onChange:e=>n(e.target.value)})})}},549:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(5893),s=n(9008),c=n.n(s);let o=e=>{let{siteTitle:t,siteDescription:n,favicon:s}=e;return(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:t}),(0,a.jsx)("meta",{name:"description",content:n}),(0,a.jsx)("link",{rel:"icon",href:s||"/to-do-list.ico"})]})},l=e=>{let{id:t,title:n,description:s}=e;return(0,a.jsxs)("section",{id:t,className:"text-center py-10 px-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mt-0 mb-6",children:n}),(0,a.jsx)("h3",{className:"text-1xl font-bold mb-8",children:s}),(0,a.jsx)("div",{className:"divider"})]})},r=e=>{let{siteTitle:t,siteDescription:n,type:s,children:c}=e,r=t||"ToDo",i=n||"Stop forgetting what to do next use this app.";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{siteTitle:r+" - AMCEF",siteDescription:i}),(0,a.jsxs)("main",{className:"min-h-screen bg-base-200",children:["home"!==s&&(0,a.jsx)(l,{title:r,description:i}),(0,a.jsx)("section",{className:"p-10",children:c})]})]})};var i=r},7946:function(e,t,n){"use strict";n.d(t,{H:function(){return s},k:function(){return c}});var a=n(1604);let s=a.ZP.enum(["default","done","notDone"]),c=a.ZP.enum(["info","error","success","warning"])}},function(e){e.O(0,[202,964,669,774,888,179],function(){return e(e.s=4677)}),_N_E=e.O()}]);