(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{2913:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category",function(){return s(2599)}])},2599:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return x}});var n=s(5893),r=s(1664),i=s.n(r);let c=t=>{let{id:e,title:s,description:r,onDelete:c}=t,a=()=>{c(e)};return(0,n.jsx)("div",{className:"card bg-base-100 shadow-xl transform transition duration-500 hover:scale-110",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)(i(),{href:{pathname:"/category/"+e},children:[(0,n.jsx)("h2",{className:"card-title",children:s}),(0,n.jsx)("p",{children:r})]}),(0,n.jsxs)("div",{className:"card-actions justify-end",children:[(0,n.jsx)(i(),{href:{pathname:"/category/edit",query:{id:e}},className:"btn btn-primary",children:"Edit"}),(0,n.jsx)("button",{className:"btn btn-secondary",onClick:a,children:"Delete"})]})]})})};var a=s(5945),o=s(7e3),l=s(8228),u=s(4579),d=s(549),h=s(7294),p=s(1536),m=s(7692);let f=()=>{let t=(0,a.NL)(),{isLoading:e,isError:s,data:r,isSuccess:i}=(0,o.a)({queryKey:["getCategories"],queryFn:u.CP}),[f,x]=(0,h.useState)(""),[g,y]=(0,h.useState)([]);(0,h.useEffect)(()=>{f&&""!==f&&i&&r?y(r.filter(t=>t.title.includes(f))):i&&y(r)},[f,y,r,i]);let b=(0,l.D)({mutationFn:t=>(0,u.uu)(t),onSuccess(){t.invalidateQueries({queryKey:["getCategories"]})}}),j=t=>{x(t)},v=t=>{b.mutate(t)};return(0,n.jsx)(d.Z,{siteTitle:"All Categories",siteDescription:"Here you can manage your categories.",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-row xs:flex-col justify-center items-center",children:(0,n.jsx)(p.o,{onChange:j})}),e?(0,n.jsx)(m.Z,{title:"Loading Categories...",type:"info"}):(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(m.Z,{title:"An Error occurred",type:"error"}):(0,n.jsx)(n.Fragment,{children:i&&g&&g.length>0?(0,n.jsx)("div",{className:"p-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 md:justify-center lg:grid-cols-3 xl:grid-cols-3 gap-5",children:g.map(t=>(0,n.jsx)(c,{id:t.id,title:t.title,description:t.description,onDelete:v},t.id))}):(0,n.jsx)(m.Z,{title:"No categories to show.",type:"info"})})})]})})};var x=f},4579:function(t,e,s){"use strict";s.d(e,{CP:function(){return a},LC:function(){return h},aS:function(){return x},bm:function(){return f},dC:function(){return p},ht:function(){return u},i8:function(){return l},n3:function(){return o},rk:function(){return m},uu:function(){return d}});var n=s(196);let r="https://636ba3e07f47ef51e13633ee.mockapi.io/api/v1/",i="category",c="todo",a=async()=>{try{let t=await n.ZP.get(r+i);return t.data}catch(e){console.log(e)}},o=async t=>{try{let e=await n.ZP.get("".concat(r).concat(i,"/").concat(t));return e.data}catch(s){console.log(s)}},l=async t=>{try{let e=await n.ZP.post("".concat(r).concat(i),t);return e.data}catch(s){console.log(s)}},u=async t=>{let e={title:t.title,description:t.description,todoItems:t.todoItems};try{let s=await n.ZP.put("".concat(r).concat(i,"/").concat(t.id),e);return s.data}catch(c){console.log(c)}},d=async t=>{try{let e=await n.ZP.delete("".concat(r).concat(i,"/").concat(t));return e.data}catch(s){console.log(s)}},h=async()=>{try{let t=await n.ZP.get(r+c);return t.data}catch(e){console.log(e)}},p=async t=>{try{let e=await n.ZP.get("".concat(r).concat(c,"/").concat(t));return e.data}catch(s){console.log(s)}},m=async t=>{let e={title:t.title,description:t.description,deadline:t.deadline,done:t.done};try{let s=await n.ZP.post("".concat(r).concat(c),e);return s.data}catch(i){console.log(i)}},f=async t=>{let e={createdAt:t.createdAt,title:t.title,description:t.description,deadline:t.deadline,done:t.done};try{let s=await n.ZP.put("".concat(r).concat(c,"/").concat(t.id),e);return s.data}catch(i){console.log(i)}},x=async t=>{try{let e=await n.ZP.delete("".concat(r).concat(c,"/").concat(t));return e.data}catch(s){console.log(s)}}},7692:function(t,e,s){"use strict";var n=s(5893);let r=t=>{let{title:e,type:s}=t;return(0,n.jsx)("div",{className:"m-10",children:(0,n.jsx)("p",{className:"justify-center text-white shadow-lg alert alert-".concat(s),children:e})})};e.Z=r},1536:function(t,e,s){"use strict";s.d(e,{o:function(){return r}});var n=s(5893);let r=t=>{let{onChange:e}=t,s=t=>{e(t)};return(0,n.jsx)("div",{className:"flex justify-center w-1/2",children:(0,n.jsx)("input",{type:"text",className:"bg-white input input-bordered",placeholder:"Search",onChange:t=>s(t.target.value)})})}},549:function(t,e,s){"use strict";s.d(e,{Z:function(){return l}});var n=s(5893),r=s(9008),i=s.n(r);let c=t=>{let{siteTitle:e,siteDescription:s,favicon:r}=t;return(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:e}),(0,n.jsx)("meta",{name:"description",content:s}),(0,n.jsx)("link",{rel:"icon",href:r||"/to-do-list.ico"})]})},a=t=>{let{id:e,title:s,description:r}=t;return(0,n.jsxs)("section",{id:e,className:"text-center py-10 px-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mt-0 mb-6",children:s}),(0,n.jsx)("h3",{className:"text-1xl font-bold mb-8",children:r}),(0,n.jsx)("div",{className:"divider"})]})},o=t=>{let{siteTitle:e,siteDescription:s,type:r,children:i}=t,o=e||"ToDo",l=s||"Stop forgetting what to do next use this app.";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{siteTitle:o+" - AMCEF",siteDescription:l}),(0,n.jsxs)("main",{className:"min-h-screen bg-base-200",children:["home"!==r&&(0,n.jsx)(a,{title:o,description:l}),(0,n.jsx)("section",{className:"p-10",children:i})]})]})};var l=o},8228:function(t,e,s){"use strict";s.d(e,{D:function(){return h}});var n=s(7294),r=s(464),i=s(2161),c=s(9886),a=s(81),o=s(3989);class l extends o.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.client.defaultMutationOptions(t),(0,i.VS)(e,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:(0,c.R)(),e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){a.V.batch(()=>{if(this.mutateOptions){var e,s,n,r,i,c,a,o;t.onSuccess?(null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(r=this.mutateOptions).onSettled)||n.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(i=(c=this.mutateOptions).onError)||i.call(c,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(o=this.mutateOptions).onSettled)||a.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(t=>{t(this.currentResult)})})}}var u=s(5945),d=s(4798);function h(t,e,s){let c=(0,i.lV)(t,e,s),o=(0,u.NL)({context:c.context}),[h]=n.useState(()=>new l(o,c));n.useEffect(()=>{h.setOptions(c)},[h,c]);let m=(0,r.$)(n.useCallback(t=>h.subscribe(a.V.batchCalls(t)),[h]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),f=n.useCallback((t,e)=>{h.mutate(t,e).catch(p)},[h]);if(m.error&&(0,d.L)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:f,mutateAsync:m.mutate}}function p(){}}},function(t){t.O(0,[202,0,774,888,179],function(){return t(t.s=2913)}),_N_E=t.O()}]);